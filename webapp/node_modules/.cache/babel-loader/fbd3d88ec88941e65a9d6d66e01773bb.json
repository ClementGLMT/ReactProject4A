{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\servi\\\\Documents\\\\ReactProject3\\\\ReactProject4A\\\\webapp\\\\src\\\\App.js\";\nimport React from 'react'; //import ndPage from './pages/2ndPage.js'\n\nvar sha256 = require('js-sha256'); //export default class App extends React.Component{\n\n\nfunction App() {\n  var isLoggedIn = false;\n\n  function NameForm(props) {\n    var username = '';\n    var password = '';\n\n    function handleSubmit(event) {\n      console.log(\"username : \" + username);\n      console.log(sha256(\"passwd : \" + String(password)));\n      fetch('http://localhost:3000/connexion', {\n        method: 'POST',\n        headers: JSON.stringify({\n          \"Accept\": \"application/json\",\n          \"Content-type\": \"application/json\"\n        }),\n        body: JSON.stringify({\n          'username': username,\n          'password': sha256(String(password))\n        })\n      }).then(response => response.json()) //If response is in json then in success\n      .then() //If response is not in json then in error\n      .catch(error => {\n        //Error \n        console.error(error);\n      });\n      setTimeout(() => {\n        var Http = new XMLHttpRequest();\n        var url = 'http://localhost:3000/connexion';\n        Http.open(\"GET\", url);\n        Http.send();\n\n        Http.onreadystatechange = function () {\n          if (this.readyState === 4 && this.status === 200) {\n            console.log(Http.response);\n            var json = JSON.parse(Http.response); //console.log(JSON.parse('{ \"fruit\": \"pineapple\", \"fingers\": 10 }'))\n\n            console.log(Http.response);\n\n            if (json.access) {\n              console.log(\"Access accepted\");\n              isLoggedIn = true;\n            }\n          }\n        };\n      }, 350);\n      event.preventDefault();\n    }\n\n    return React.createElement(\"form\", {\n      style: {\n        position: 'absolute',\n        left: '50%',\n        top: '50%',\n        transform: 'translate(-50%, -50%)'\n      },\n      onSubmit: handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      style: {\n        position: 'absolute',\n        left: '50%',\n        transform: 'translate(-50%, -50%)'\n      },\n      placeholder: \"username\",\n      ref: usernam => username = usernam,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      placeholder: \"password\",\n      type: \"text\",\n      ref: passwor => password = passwor,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      style: {\n        position: 'absolute',\n        left: '50%',\n        transform: 'translate(-50%, -50%)'\n      },\n      type: \"submit\",\n      value: \"Submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }));\n  }\n\n  function NdPage() {\n    return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"BV champion\");\n  }\n\n  function Page1(props) {\n    if (isLoggedIn) {\n      return React.createElement(NdPage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(NameForm, {\n        user: \"\",\n        passwd: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      });\n    }\n  }\n\n  return React.createElement(Page1, {\n    user: \"1\",\n    passwd: \"2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  });\n}\n\nexport default App; //}","map":{"version":3,"sources":["C:/Users/servi/Documents/ReactProject3/ReactProject4A/webapp/src/App.js"],"names":["React","sha256","require","App","isLoggedIn","NameForm","props","username","password","handleSubmit","event","console","log","String","fetch","method","headers","JSON","stringify","body","then","response","json","catch","error","setTimeout","Http","XMLHttpRequest","url","open","send","onreadystatechange","readyState","status","parse","access","preventDefault","position","left","top","transform","usernam","passwor","NdPage","Page1"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,IAAIC,MAAM,GAAGC,OAAO,CAAC,WAAD,CAApB,C,CAGA;;;AACA,SAASC,GAAT,GAAc;AAEd,MAAIC,UAAU,GAAG,KAAjB;;AAEE,WAASC,QAAT,CAAkBC,KAAlB,EAAwB;AAEtB,QAAIC,QAAQ,GAAC,EAAb;AACA,QAAIC,QAAQ,GAAC,EAAb;;AAEA,aAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAC3BC,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAcL,QAA1B;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAYX,MAAM,CAAC,cAAYY,MAAM,CAACL,QAAD,CAAnB,CAAlB;AACAM,MAAAA,KAAK,CAAC,iCAAD,EAAoC;AACvCC,QAAAA,MAAM,EAAE,MAD+B;AAEvCC,QAAAA,OAAO,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAE,oBAAU,kBAAZ;AAAgC,0BAAe;AAA/C,SAAf,CAF8B;AAGvCC,QAAAA,IAAI,EAAEF,IAAI,CAACC,SAAL,CAAe;AACnB,sBAAYX,QADO;AAEnB,sBAAYN,MAAM,CAACY,MAAM,CAACL,QAAD,CAAP;AAFC,SAAf;AAHiC,OAApC,CAAL,CAQDY,IARC,CAQKC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EARlB,EASF;AATE,OAUDF,IAVC,GAWF;AAXE,OAYDG,KAZC,CAYMC,KAAD,IAAW;AACd;AACAb,QAAAA,OAAO,CAACa,KAAR,CAAcA,KAAd;AACH,OAfC;AAiBDC,MAAAA,UAAU,CAAE,MAAM;AACjB,YAAIC,IAAI,GAAG,IAAIC,cAAJ,EAAX;AACA,YAAIC,GAAG,GAAC,iCAAR;AACAF,QAAAA,IAAI,CAACG,IAAL,CAAU,KAAV,EAAiBD,GAAjB;AACDF,QAAAA,IAAI,CAACI,IAAL;;AAECJ,QAAAA,IAAI,CAACK,kBAAL,GAA0B,YAAY;AACpC,cAAG,KAAKC,UAAL,KAAoB,CAApB,IAAyB,KAAKC,MAAL,KAAgB,GAA5C,EAAgD;AAC9CtB,YAAAA,OAAO,CAACC,GAAR,CAAYc,IAAI,CAACL,QAAjB;AACA,gBAAIC,IAAI,GAAGL,IAAI,CAACiB,KAAL,CAAWR,IAAI,CAACL,QAAhB,CAAX,CAF8C,CAG9C;;AACAV,YAAAA,OAAO,CAACC,GAAR,CAAYc,IAAI,CAACL,QAAjB;;AACA,gBAAGC,IAAI,CAACa,MAAR,EAAe;AACbxB,cAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACER,cAAAA,UAAU,GAAG,IAAb;AACH;AACF;AACF,SAXD;AAYA,OAlBS,EAmBR,GAnBQ,CAAV;AAoBAM,MAAAA,KAAK,CAAC0B,cAAN;AACI;;AAGL,WACA;AAAM,MAAA,KAAK,EAAE;AACXC,QAAAA,QAAQ,EAAE,UADC;AACWC,QAAAA,IAAI,EAAE,KADjB;AACwBC,QAAAA,GAAG,EAAE,KAD7B;AAEXC,QAAAA,SAAS,EAAE;AAFA,OAAb;AAGC,MAAA,QAAQ,EAAE/B,YAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE;AAAQ,MAAA,KAAK,EAAE;AACjB4B,QAAAA,QAAQ,EAAE,UADO;AACKC,QAAAA,IAAI,EAAE,KADX;AAEjBE,QAAAA,SAAS,EAAE;AAFM,OAAf;AAGH,MAAA,WAAW,EAAC,UAHT;AAGoB,MAAA,GAAG,EAAGC,OAAD,IAAalC,QAAQ,GAAEkC,OAHhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAMJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANI,EAOE;AAAS,MAAA,WAAW,EAAC,UAArB;AAAgC,MAAA,IAAI,EAAC,MAArC;AAA4C,MAAA,GAAG,EAAGC,OAAD,IAAalC,QAAQ,GAAEkC,OAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CAJF,EAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdF,EAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAfF,EAgBE;AAAO,MAAA,KAAK,EAAE;AACdL,QAAAA,QAAQ,EAAE,UADI;AACQC,QAAAA,IAAI,EAAE,KADd;AAEdE,QAAAA,SAAS,EAAE;AAFG,OAAd;AAGF,MAAA,IAAI,EAAC,QAHH;AAGY,MAAA,KAAK,EAAC,QAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhBF,CADA;AAuBD;;AAED,WAASG,MAAT,GAAiB;AACf,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAP;AACD;;AAGH,WAASC,KAAT,CAAetC,KAAf,EAAqB;AACnB,QAAGF,UAAH,EAAc;AACZ,aAAO,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD,KAFD,MAGK;AACH,aAAO,oBAAC,QAAD;AAAU,QAAA,IAAI,EAAC,EAAf;AAAkB,QAAA,MAAM,EAAC,EAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;AACF;;AACC,SACE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,GAAZ;AAAgB,IAAA,MAAM,EAAC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAGD;;AAED,eAAeD,GAAf,C,CAIA","sourcesContent":["import React from 'react'\r\n//import ndPage from './pages/2ndPage.js'\r\nvar sha256 = require('js-sha256');\r\n\r\n\r\n//export default class App extends React.Component{\r\nfunction App(){\r\n\r\nvar isLoggedIn = false;\r\n\r\n  function NameForm(props){\r\n\r\n    var username='';\r\n    var password='';\r\n\r\n    function handleSubmit(event) {\r\n      console.log(\"username : \"+username);\r\n      console.log(sha256(\"passwd : \"+String(password)));\r\n      fetch('http://localhost:3000/connexion', {\r\n        method: 'POST',\r\n        headers: JSON.stringify({ \"Accept\": \"application/json\", \"Content-type\":\"application/json\" }),\r\n        body :JSON.stringify({\r\n          'username': username, \r\n          'password': sha256(String(password))\r\n        })\r\n    })\r\n    .then((response) => response.json())\r\n    //If response is in json then in success\r\n    .then()\r\n    //If response is not in json then in error\r\n    .catch((error) => {\r\n        //Error \r\n        console.error(error);\r\n    })\r\n    \r\n     setTimeout( () => {\r\n      var Http = new XMLHttpRequest();\r\n      var url='http://localhost:3000/connexion';\r\n      Http.open(\"GET\", url);\r\n     Http.send();\r\n  \r\n      Http.onreadystatechange = function () {\r\n        if(this.readyState === 4 && this.status === 200){\r\n          console.log(Http.response);\r\n          var json = JSON.parse(Http.response);\r\n          //console.log(JSON.parse('{ \"fruit\": \"pineapple\", \"fingers\": 10 }'))\r\n          console.log(Http.response);\r\n          if(json.access){\r\n            console.log(\"Access accepted\");\r\n              isLoggedIn = true;        \r\n          }\r\n        }\r\n      };\r\n     }\r\n     , 350);\r\n     event.preventDefault();\r\n        }\r\n\r\n\r\n    return (\r\n    <form style={{\r\n      position: 'absolute', left: '50%', top: '50%',\r\n      transform: 'translate(-50%, -50%)'\r\n  }} onSubmit={handleSubmit}>\r\n      <label>\r\n        \r\n        <input  style={{\r\n      position: 'absolute', left: '50%',\r\n      transform: 'translate(-50%, -50%)'\r\n  }} placeholder=\"username\" ref={(usernam) => username= usernam} /> \r\n  <p></p>\r\n        <input   placeholder=\"password\" type=\"text\" ref={(passwor) => password= passwor}\r\n        />\r\n      </label>\r\n      <p></p>\r\n      <p></p>\r\n      <input style={{\r\n      position: 'absolute', left: '50%',\r\n      transform: 'translate(-50%, -50%)'\r\n  }}type=\"submit\" value=\"Submit\" />\r\n    </form>)\r\n\r\n  }\r\n\r\n  function NdPage(){\r\n    return <p>BV champion</p>;\r\n  }\r\n\r\n\r\nfunction Page1(props){\r\n  if(isLoggedIn){\r\n    return <NdPage/>\r\n  }\r\n  else {\r\n    return <NameForm user='' passwd='' />\r\n  }\r\n}\r\n  return(\r\n    <Page1 user='1' passwd='2'/>\r\n  )\r\n}\r\n\r\nexport default App;\r\n  \r\n\r\n\r\n//}"]},"metadata":{},"sourceType":"module"}